<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Calendar To-Do</title>

  <!-- FullCalendar v5 CSS -->
  <link rel="stylesheet" href="./vendor/fullcalendar-5.11.5/main.min.css" />

  <!-- FullCalendar v5 JS -->
  <script src="./vendor/fullcalendar-5.11.5/main.min.js"></script>

  
  <!-- 한글 -->
  <script src="./vendor/fullcalendar-5.11.5/locales-all.min.js"></script>
  
  <!-- 스타일시트 -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="pageWrapper">
    <section id="calendarPage" class="page">
  <header class="topbar">
    <div class="brand">
      <div class="brand-title">TodoCalendar</div>
      <div class="brand-sub">날짜 클릭 → 오늘의 체크리스트</div>
    </div>

    <div class="actions">
      <button id="btnRoutine" class="btn btn-secondary">매일 할 일</button>
      <button id="btnExportCalendar" class="btn">data download</button>
      <label class="btn btn-secondary" for="fileImportCalendar">data upload</label>
      <input id="fileImportCalendar" type="file" accept="application/json" hidden />
    </div>
  </header>

  <main class="layout">
    <div class="month-header">
      <!--화살표 out-->
      <!--<button id="monthPrev" class="month-nav">‹</button>-->
      <div id="monthStrip" class="month-strip"></div>
      <!--<button id="monthNext" class="month-nav">›</button>-->
    </div>

    <section class="calendar-wrap">
      <div id="calendar"></div>
    </section>
    <button id="toReport" class="go-down">▼</button>
  </main>
  </section>

  <!-- 아랫쪽 두번째 페이지.(진행률 표시용)-->
  <section id="reportPage" class="page">
  <header class="topbar">
    <button id="toCalendar" class="go-up">▲</button>
    <div class="brand">
      <div class="brand-title">리포트</div>
      <div class="brand-sub">주 / 월 단위 진행률 요약</div>
    </div>
    <div class="actions">
      <button id="btnExportReport" class="btn">data download</button>
      <label class="btn btn-secondary" for="fileImportReport">data upload</label>
      <input id="fileImportReport" type="file" accept="application/json" hidden />
    </div>
  </header>


  <main class="layout">
    <h2>주 / 월 요약</h2>
    <!-- 월별 요약 -->
    <section class="month-summary" id="monthSummary"></section>

    <!-- 월 × 주 히트맵 -->
    <section class="progress-matrix" id="progressMatrix"></section>

    <!-- 🎯 목표 영역 -->
  <section class="goal-section">
    <h2>목표</h2>

    <div class="goal-grid">
    <div class="goal-card">
      <div class="goal-header">
        <button class="goal-open icon-btn" data-type="year">＋</button>
        <h3>올해 목표</h3>
      </div>
      <div id="goalYearPreview" class="goal-preview"></div>
    </div>

    <div class="goal-card">
      <div class="goal-header">
        <button class="goal-open icon-btn" data-type="month">＋</button>
        <h3>이번 달 목표</h3>
      </div>
      <div id="goalMonthPreview" class="goal-preview"></div>
    </div>

    <div class="goal-card">
      <div class="goal-header">
        <button class="goal-open icon-btn" data-type="week">＋</button>
        <h3>이번 주 목표</h3>
      </div>
      <div id="goalWeekPreview" class="goal-preview"></div>
    </div>
  </div>
</section>
  </main>
  </section>
  </div>

  <!-- Modal -->
  <div id="modalBackdrop" class="backdrop hidden" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-header">
        <div>
          <div id="modalTitle" class="modal-title">2026-01-27</div>
          <div class="modal-sub">Enter로 추가 · 클릭해서 수정 · ESC로 닫기</div>
        </div>
        <button id="btnClose" class="icon-btn" aria-label="닫기">✕</button>
      </div>

      <div class="modal-body">
        <div id="todoList" class="todo-list"></div>

        <div class="todo-add">
          <input id="todoInput" class="todo-input" type="text" placeholder="할 일을 입력하고 Enter…" />
          <button id="btnAdd" class="btn">추가</button>
        </div>

        <div class="modal-footer">
          <button id="btnClearDone" class="btn btn-secondary">완료 항목 정리</button>
          <button id="btnDeleteDay" class="btn btn-danger">이 날짜 전체 삭제</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Year / Month Picker Modal -->
<div id="ymBackdrop" class="backdrop hidden">
  <div class="modal" style="width:360px">
    <div class="modal-header">
      <div class="modal-title">연 · 월 선택</div>
      <button id="btnYmClose" class="icon-btn">✕</button>
    </div>

    <div class="modal-body">
      <div class="ym-picker">
        <div id="yearList" class="ym-column"></div>
        <div id="monthList" class="ym-column"></div>
      </div>
    </div>

    <div class="modal-footer">
      <button id="btnYmConfirm" class="btn">확인</button>
    </div>
  </div>
</div>

  <!-- Confirm Modal -->
<div id="confirmBackdrop" class="backdrop hidden" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" style="width:320px">
    <div class="modal-header">
      <div class="modal-title">확인</div>
    </div>

    <div class="modal-body">
      <div id="confirmMessage" style="padding:8px 0">
        정말 삭제할까요?
      </div>
    </div>

    <div class="modal-footer">
      <button id="confirmNo" class="btn btn-secondary">취소</button>
      <button id="confirmYes" class="btn btn-danger">확인</button>
    </div>
  </div>
</div>

<!-- report detail modal -->
<div id="reportDetailBackdrop" class="backdrop hidden">
  <div class="modal report-modal">
    <div class="modal-header">
      <div>
        <div id="reportDetailTitle" class="modal-title">활동 리포트</div>
        <div class="modal-sub">AI 분석 결과 및 상세 내역 · ESC로 닫기</div>
      </div>
      <button id="btnReportCloseX" class="icon-btn" aria-label="닫기">✕</button>
    </div>

    <div id="reportDetailContent" class="modal-body report-content">
      </div>

    </div>
</div>

  <script src="renderer.js"></script>
</body>